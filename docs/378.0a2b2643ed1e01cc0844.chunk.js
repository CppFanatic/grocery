/*! For license information please see 378.0a2b2643ed1e01cc0844.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkdelivery_pwa=self.webpackChunkdelivery_pwa||[]).push([[378],{327:(n,e,t)=>{t.d(e,{A:()=>c});var r=t(601),o=t.n(r),a=t(314),i=t.n(a)()(o());i.push([n.id,".category-view {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n  min-height: 100vh;\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 20px;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.category-view__header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 30px;\n  padding: 20px;\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 16px;\n  border: 1px solid rgba(102, 126, 234, 0.2);\n}\n\n.back-button {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  color: white;\n  border: none;\n  padding: 12px 20px;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  margin-right: 20px;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n}\n\n.back-button:hover {\n  background: linear-gradient(135deg, #764ba2, #667eea);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);\n}\n\n.category-view__title h1 {\n  background: linear-gradient(135deg, #667eea, #764ba2);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  background-clip: text;\n  font-size: 2.5rem;\n  margin: 0 0 10px 0;\n  font-weight: 800;\n}\n\n.category-view__description {\n  color: #64748b;\n  font-size: 1.1rem;\n  margin: 0;\n  font-style: italic;\n}\n\n.category-view__error {\n  text-align: center;\n  padding: 40px;\n  background: rgba(240, 147, 251, 0.1);\n  border-radius: 16px;\n  border: 1px solid rgba(240, 147, 251, 0.3);\n  margin-bottom: 30px;\n}\n\n.category-view__error p {\n  color: #f5576c;\n  font-size: 1.2rem;\n  margin-bottom: 20px;\n  font-weight: 600;\n}\n\n.retry-button {\n  background: linear-gradient(135deg, #f093fb, #f5576c);\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 12px;\n  font-size: 16px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  box-shadow: 0 4px 15px rgba(240, 147, 251, 0.3);\n}\n\n.retry-button:hover {\n  background: linear-gradient(135deg, #f5576c, #f093fb);\n  transform: translateY(-2px);\n  box-shadow: 0 8px 25px rgba(240, 147, 251, 0.4);\n}\n\n.category-view__loading {\n  text-align: center;\n  padding: 60px;\n  color: #64748b;\n  font-size: 1.3rem;\n  font-weight: 600;\n}\n\n.category-view__content {\n  margin-top: 20px;\n}\n\n.products-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 25px;\n  margin-bottom: 30px;\n}\n\n.loading-trigger {\n  text-align: center;\n  padding: 20px;\n  color: #64748b;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.no-more-products {\n  text-align: center;\n  padding: 30px;\n  color: #64748b;\n  font-size: 1.2rem;\n  font-style: italic;\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 16px;\n  border: 1px solid rgba(102, 126, 234, 0.2);\n}\n\n.no-products {\n  text-align: center;\n  padding: 60px;\n  color: #64748b;\n  font-size: 1.3rem;\n  font-weight: 600;\n  background: rgba(102, 126, 234, 0.1);\n  border-radius: 16px;\n  border: 1px solid rgba(102, 126, 234, 0.2);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .category-view {\n    padding: 15px;\n  }\n  \n  .category-view__header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 15px;\n  }\n  \n  .back-button {\n    margin-right: 0;\n    margin-bottom: 10px;\n  }\n  \n  .category-view__title h1 {\n    font-size: 2rem;\n  }\n  \n  .products-grid {\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 20px;\n  }\n}\n\n@media (max-width: 480px) {\n  .category-view {\n    padding: 10px;\n  }\n  \n  .category-view__title h1 {\n    font-size: 1.8rem;\n  }\n  \n  .products-grid {\n    grid-template-columns: 1fr;\n    gap: 15px;\n  }\n}\n",""]);const c=i},378:(n,e,t)=>{t.r(e),t.d(e,{default:()=>j});var r=t(540),o=t(757),a=t(72),i=t.n(a),c=t(825),l=t.n(c),u=t(659),s=t.n(u),d=t(56),p=t.n(d),g=t(159),f=t.n(g),b=t(113),m=t.n(b),y=t(327),v={};function x(){var n,e,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,r,o,a){var l=r&&r.prototype instanceof c?r:c,u=Object.create(l.prototype);return h(u,"_invoke",function(t,r,o){var a,c,l,u=0,s=o||[],d=!1,p={p:0,n:0,v:n,a:g,f:g.bind(n,4),d:function(e,t){return a=e,c=0,l=n,p.n=t,i}};function g(t,r){for(c=t,l=r,e=0;!d&&u&&!o&&e<s.length;e++){var o,a=s[e],g=p.p,f=a[2];t>3?(o=f===r)&&(l=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=n):a[0]<=g&&((o=t<2&&g<a[1])?(c=0,p.v=r,p.n=a[1]):g<f&&(o=t<3||a[0]>r||r>f)&&(a[4]=t,a[5]=r,p.n=f,c=0))}if(o||t>1)return i;throw d=!0,r}return function(o,s,f){if(u>1)throw TypeError("Generator is already running");for(d&&1===s&&g(s,f),c=s,l=f;(e=c<2?n:l)||!d;){a||(c?c<3?(c>1&&(p.n=-1),g(c,l)):p.n=l:p.v=l);try{if(u=2,a){if(c||(o="next"),e=a[o]){if(!(e=e.call(a,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,c<2&&(c=0)}else 1===c&&(e=a.return)&&e.call(a),c<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=n}else if((e=(d=p.n<0)?l:t.call(r,p))!==i)break}catch(e){a=n,c=1,l=e}finally{u=1}}return{value:e,done:d}}}(t,o,a),!0),u}var i={};function c(){}function l(){}function u(){}e=Object.getPrototypeOf;var s=[][r]?e(e([][r]())):(h(e={},r,function(){return this}),e),d=u.prototype=c.prototype=Object.create(s);function p(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,u):(n.__proto__=u,h(n,o,"GeneratorFunction")),n.prototype=Object.create(d),n}return l.prototype=u,h(d,"constructor",u),h(u,"constructor",l),l.displayName="GeneratorFunction",h(u,o,"GeneratorFunction"),h(d),h(d,o,"Generator"),h(d,r,function(){return this}),h(d,"toString",function(){return"[object Generator]"}),(x=function(){return{w:a,m:p}})()}function h(n,e,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}h=function(n,e,t,r){function a(e,t){h(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!r,configurable:!r,writable:!r}):n[e]=t:(a("next",0),a("throw",1),a("return",2))},h(n,e,t,r)}function w(n){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},w(n)}function _(n){return function(n){if(Array.isArray(n))return N(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||A(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(n,e,t,r,o,a,i){try{var c=n[a](i),l=c.value}catch(n){return void t(n)}c.done?e(l):Promise.resolve(l).then(r,o)}function E(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(n){k(a,r,o,i,c,"next",n)}function c(n){k(a,r,o,i,c,"throw",n)}i(void 0)})}}function S(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,o=n}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(n,e)||A(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(n,e){if(n){if("string"==typeof n)return N(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(n,e):void 0}}function N(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}v.styleTagTransform=m(),v.setAttributes=p(),v.insert=s().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=f(),i()(y.A,v),y.A&&y.A.locals&&y.A.locals;const j=function(n){var e=n.category,t=n.onAddToCart,a=n.onBack,i=n.onLoadProducts,c=n.loading,l=void 0!==c&&c,u=n.error,s=void 0===u?null:u,d=(n.locale,S((0,r.useState)([]),2)),p=d[0],g=d[1],f=S((0,r.useState)(null),2),b=f[0],m=f[1],y=S((0,r.useState)(!0),2),v=y[0],h=y[1],k=S((0,r.useState)(!1),2),A=k[0],N=k[1],j=S((0,r.useState)(!1),2),C=j[0],O=j[1],T=((0,r.useRef)(),(0,r.useRef)());(0,r.useEffect)(function(){e&&!C&&(console.log("üì¶ [CategoryView] –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:",e.id),z(),O(!0))},[e,C]);var z=(0,r.useCallback)(E(x().m(function n(){var t,r,o,a,c=arguments;return x().w(function(n){for(;;)switch(n.p=n.n){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,e&&!A){n.n=1;break}return n.a(2);case 1:return N(!0),n.p=2,n.n=3,i(e.id,t);case 3:(r=n.v)&&r.products&&(g(t?function(n){return[].concat(_(n),_(r.products))}:r.products),o=r.next_page_token?parseInt(r.next_page_token,10):null,console.log("üîÑ [CategoryView] next_page_token conversion:",{original:r.next_page_token,type:w(r.next_page_token),converted:o,convertedType:w(o)}),m(o),h(!!r.next_page_token)),n.n=5;break;case 4:n.p=4,a=n.v,console.error("‚ùå [CategoryView] –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤:",a);case 5:return n.p=5,N(!1),n.f(5);case 6:return n.a(2)}},n,null,[[2,4,5,6]])})),[e,i,A]);return(0,r.useEffect)(function(){if(v&&!A){var n=new IntersectionObserver(function(n){n[0].isIntersecting&&v&&!A&&(console.log("üîÑ [CategoryView] –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–æ–¥—É–∫—Ç–æ–≤"),z(b))},{threshold:.1});return T.current&&n.observe(T.current),function(){T.current&&n.unobserve(T.current)}}},[v,A,b,z]),e?r.createElement("div",{className:"category-view"},r.createElement("div",{className:"category-view__header"},r.createElement("button",{onClick:a,className:"back-button"},"‚Üê Back"),r.createElement("div",{className:"category-view__title"},r.createElement("h1",null,e.title),e.description&&r.createElement("p",{className:"category-view__description"},e.description))),s&&r.createElement("div",{className:"category-view__error"},r.createElement("p",null,"Loading error: ",s),r.createElement("button",{onClick:function(){return z()},className:"retry-button"},"Retry")),l&&0===p.length?r.createElement("div",{className:"category-view__loading"},r.createElement("p",null,"Loading products...")):r.createElement("div",{className:"category-view__content"},p.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:"products-grid"},p.map(function(n){return r.createElement(o.A,{key:n.id,product:n,onAddToCart:t})})),v&&r.createElement("div",{ref:T,className:"loading-trigger"},A&&r.createElement("p",null,"Loading more products...")),!v&&p.length>0&&r.createElement("div",{className:"no-more-products"},r.createElement("p",null,"All products loaded"))):r.createElement("div",{className:"no-products"},r.createElement("p",null,"No products in this category yet")))):r.createElement("div",{className:"category-view"},r.createElement("div",{className:"category-view__error"},r.createElement("p",null,"Category not found"),r.createElement("button",{onClick:a,className:"back-button"},"‚Üê Back")))}}}]);
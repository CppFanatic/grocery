components:
    parameters:
        IdempotencyHeader:
            in: header
            name: X-Idempotency-Token
            description: Idempotency token.
            required: true
            schema:
                type: string
                maxLength: 128

    schemas:
        EmptyRequest:
            type: object
            description: Empty request
            additionalProperties: false
            properties: {}

        ErrorReason:
            type: string
            description: Reason for error response
            enum:
              - grid_not_found
              - main_not_found
              - category_not_found
              - incorrect_page_token

        ResponseBodyError:
            type: object
            additionalProperties: false
            required:
              - reason
            properties:
                reason:
                    description: Machine-readable code. Example "incorrect_order_id".
                    $ref: '#/components/schemas/ErrorReason'
                message:
                    description: Optional. Human-readable text in English.
                    type: string
                trace_id:
                    description: Optional. ID to help investigate the problem.
                    type: string

        Localization:
            description: 'Localization tag. Format: &lt;language code&gt;_&lt;country
                alpha-2 code&gt;'
            type: string
            pattern: '^[a-z]{2}$'
            example: 'en'
            minLength: 2
            maxLength: 2
            default: 'en'
        Category:
            description: Category
            type: object
            additionalProperties: false
            required:
              - id
              - title
            properties:
                id:
                    description: Category ID
                    type: string
                title:
                    description: Category title
                    type: string
                image_url:
                    description: Image URL
                    type: string
        StoreId:
            description: A unique identifier for the store.
            type: string
            x-taxi-cpp-type: grocery_shared::LegacyDepotId
            minLength: 1
            maxLength: 255
            example: '12345678-abcd-efgh-ijkl-1234567890ab'
        Numeric:
            type: string
            pattern: '^\d+(\.\d*)?$'
            description: Basically Decimal<4>
            example: "56.1234"
        Point:
            type: object
            additionalProperties: false
            x-taxi-cpp-type: geometry::PositionAsObject
            required:
              - lat
              - lon
            properties:
                lat:
                    description: Latitude
                    type: number
                    minimum: -90
                    maximum: 90
                lon:
                    description: Longitude
                    type: number
                    minimum: -180
                    maximum: 180

        ResponseCart:
            description: Cart in response.
            type: object
            additionalProperties: false
            required:
              - id
              - version
              - items
              - total_price
            properties:
                id:
                    description: Cart ID
                    type: string
                version:
                    description: Cart version
                    type: integer
                items:
                    description: Cart items
                    type: array
                    items:
                        $ref: '#/components/schemas/ResponseCartItem'
                total_price:
                    description: Final price of the cart (including discounts and
                        fees)
                    $ref: '#/components/schemas/Numeric'
                full_price:
                    description: Full price of items in the cart (excluding discounts
                        and fees)
                    $ref: '#/components/schemas/Numeric'
                delivery_fee:
                    description: Delivery fee
                    $ref: '#/components/schemas/Numeric'
                service_fee:
                    description: Service fee
                    $ref: '#/components/schemas/Numeric'
        ResponseCartItem:
            description: Cart item.
            type: object
            additionalProperties: false
            required:
              - id
              - price
              - full_price
              - quantity
              - title
            properties:
                id:
                    description: Product ID
                    type: string
                price:
                    description: Product price for one item (including discounts)
                    $ref: '#/components/schemas/Numeric'
                full_price:
                    description: Product price for one item (excluding discounts)
                    $ref: '#/components/schemas/Numeric'
                quantity:
                    description: Product quantity
                    $ref: '#/components/schemas/Numeric'
                title:
                    description: Product title
                    type: string
                image_url:
                    description: Product image URL
                    type: string
